# События (Events)

Событие – это то, что происходит в течение бизнес-процесса (see page 238) или его Хореографии (see page 339). Событие оказывает влияние на ход бизнес-процесса и чаще всего имеет причину (триггер) или воздействие (результат). Изображается в виде круга со свободным центром, предназначенным для дифференцировки внутренними маркерами различных триггеров или их результатов. Согласно влиянию Событий на ход бизнес-процесса, выделяют три типа: Стартовое событие (Start), Промежуточное событие (Intermediate) и Конечное событие (End). 

|                  Стартовое событие (Start)                   |             Промежуточное событие (Intermediate)             |                    Конечное событие (End)                    |
| :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
| ![event_start](https://user-images.githubusercontent.com/14002721/87692255-35cdfa00-c794-11ea-89e3-0d06dc8ac2f7.png) | ![event_intermediate](https://user-images.githubusercontent.com/14002721/87692251-35356380-c794-11ea-9d0d-6ac65337b1db.png) | ![event_end](https://user-images.githubusercontent.com/14002721/87692248-349ccd00-c794-11ea-81b0-7bcf448c1516.png) |

## Общее представление о Событии

В зависимости от типа **События**, применяются различные способы запуска триггера в направлении реагирующего на него **События**: публикация, вынесение непосредственного решения, распространение, отмена, а также компенсация.

В рамках публикации триггер МОЖЕТ быть получен Событием, находящимся в любой части системы, где производится публикация данного триггера. События, для которых используется данный способ возбуждения триггера, образуют группу Обмена сообщениями. В качестве триггеров здесь выступают События, сформированные за рамками Пула, в котором производится их публикация. Обычно они используются для описания B2B модели сообщения между разными Процессами разных Пулов. Для указания определенного экземпляра Процесса в момент, когда такое Сообщение должно достичь данного экземпляра Процесса, используется корреляция. Триггеры, называемые Сигналами, формируются в Пуле, где производится их публикация. Как правило, они используются для распространения Сообщения в Процессах и между ними, а также между Пулами и диаграммами Процессов.

Триггеры, называемые Таймер и Условие, запускаются скрыто. После запуска они ожидают условия, при котором могут повлиять на Событие, обрабатывающее триггер. Эти условия могут быть основаны на временном или статусном критериях.

Триггер, используемый в качестве распространения, передается от места, где было запущено Событие, к наиболее удаленному месту экземпляра (например, на другой уровень Процесса), к которому привязано Событие, реагирующее на триггер. Триггер, используемый в качестве Ошибки, является критичным и прекращает выполнение в месте его запуска. Эскалация, в свою очередь, критичной не является, а выполнение продолжается в месте запуска этого триггера. В случае, если для двух последних типов триггеров не определено ни одного реагирующего на них События, они считаются невыполненными (неразрешенными). В рамках Процесса или определенного экземпляра Действия рекомендуется использовать завершение, компенсацию, а также отмену. Завершение используется для указания того, что выполнение всех Действий, содержащихся в Процессе или другом Действии, должно быть немедленно завершено (без компенсации или использования События). Это касается все экземпляров многоэкземплярного Действия или Процесса.

Компенсация удачно выполненного Действия запускает обработчика этой компенсации. Обработчик компенсации может быть двух типов: определяемый пользователем и скрытый. Скрытый обработчик компенсации, используемый для Подпроцесса, вызывает обработчики компенсаций всех содержащихся в нем Действий в последовательности, обратной Потоку операций. В случае, если вызываемая компенсация предназначается для ещё не выполненного или неудачно выполненного Действия, она никак себя не проявляет (в частности, не возникает никаких ошибок).

Отмена прерывает выполнение всех активных Действий и компенсирует все успешно выполненные Действия Подпроцесса, для которого она используется. Если этот Подпроцесс является Транзакцией, то он возвращается в начало.